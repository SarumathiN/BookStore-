<div class="row">
  <div class="info-main" *ngIf="booksList.length === 0">
    <h5 class="text-center"><i>No books requested for sale</i></h5>
  </div>
  </div>
<table class="table" *ngIf="booksList.length">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Author</th>
        <th scope="col">Requested User</th>
        <th scope="col">User mail</th>
        <th scope="col">ISBN</th>
        <th scope="col">New Price</th>
        <th scope="col">Old Price</th>
        <th scope="col">Image</th>
        <th>View</th>
        <th>Sales Approval</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let book of booksList; let index = index">
        <th scope="row">{{book.name}}</th>
        <td>{{ book.author }}</td>
        <td>{{ book.upload_user }}</td>
        <td>{{ book. upload_email }}</td>
        <td>{{ book. isbn }}</td>
        <td>{{ book. new_price }}</td>
        <td>{{ book. old_price }}</td>
        <td> <img *ngIf="book.image" [src]="book.image" style = "height: 50px;width:50px;"> </td>
        <td>
          <i class="fas fa-eye" data-toggle="modal" data-target="#viewBook" (click)="viewBook(book)"></i>
        </td>
        <td>
          <i class="fas fa-bullhorn" aria-hidden="true" data-toggle="modal" data-target="#deleteModal"
            (click)="salesApproval(book)"></i>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="modal fade" id="viewBook" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Book Details</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-row">
              <div class="form-col-lg-6">
                <label for="inputEmail4">Name</label>
                <h4>{{book.name}}</h4>
                 <br>
                <label for="inputEmail4">Author</label>
                <h4>{{book.author}}</h4>
                <br>
                <label for="inputEmail4">Edition</label>
                <h4>{{book.edition}}</h4>
                <br>
                <label for="inputEmail4">Publication</label>
                <h4>{{book.publication}}</h4>
                <br>
                <label for="inputEmail4">ISBN</label>
            <h4>{{book.isbn}}</h4>
            
              </div>
              <span class="ml-4 mr-4" style="border-left:1px dotted #000;height:500px;align-self: center;"></span>
           <div class="form-col-lg-6">
            
            <label for="inputEmail4">Price</label>
            <h4>{{book.new_price}}</h4>
            <br>
            <label for="inputEmail4">Sample Image</label>
            <br>
            <img class="mt-4" [src]="book.image" height="200"> <br/>
          </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" (click) = "salesApproval(book)">Approve for sales</button>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="approvedBook" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card o-hidden border-0 shadow-lg my-5">
            <div class="card-body p-0">
              <div class="p-5">
                <div class="text-center">
                  <h1 class="h4 text-gray-900 mb-4">Approval successfull 25% of price  added</h1>
                  <h2>User Price : Rs.{{approved_book.new_price}}</h2>
                  <h2>Your Price : Rs.{{approved_book.commission_price}}</h2>
                </div>
                </div>
            </div>
            </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Okay</button>
        </div>
      </div>
    </div>
  </div>


